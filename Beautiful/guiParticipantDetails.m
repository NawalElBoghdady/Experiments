function [participant] = guiParticipantDetails(participant)
% sanityChecks
%     close all
    heightGUI = 300;
    widthGUI = 450;
    f = figure('Visible','off',...
        'MenuBar','None', ...
        'ToolBar', 'none', ...
        'NumberTitle', 'off', ...
        'Position', [360, 500, widthGUI, heightGUI], ...
        'Name', 'Participant details');

    sizeWindow = [130 30];
%% name    
    posTextX = 30;
    posTextY = heightGUI-60;
    subText = uicontrol(f,'Style','text',...
                'String','Participant ID',...
                'Position', [posTextX posTextY sizeWindow]);
    
    posBoxX = 160;
    posBoxY = heightGUI-50;
    subTxtBox = uicontrol(f,'Style','edit',...
        'String', participant.name,...
        'Position', [posBoxX posBoxY sizeWindow]);
%% age
    itemsDistance = 10;
    posTextY = posTextY - itemsDistance - sizeWindow(2);
    ageText = uicontrol(f,'Style','text',...
                'String','age',...
                'Position', [posTextX posTextY  sizeWindow]);
    posBoxY = posBoxY - itemsDistance - sizeWindow(2);
    ageTxtBox = uicontrol(f,'Style','edit',...
        'String', participant.age,...
        'Position', [posBoxX posBoxY sizeWindow]);
%% sex
    buttonWindow = [sizeWindow(1) 100];
    posTextY = posTextY - itemsDistance - sizeWindow(2);
    sexBg = uibuttongroup(f,'Title','Sex',...
            'Position',[.15 .25 ...
            buttonWindow(1)/widthGUI buttonWindow(2)/heightGUI]);
    posBoxY = posBoxY - itemsDistance - sizeWindow(2);
    rbMale = uicontrol(sexBg,'Style','radiobutton','String','Male',...
                'Units','normalized',...
                'Position',[.1 .6 .8 .2]);
    rbFemale = uicontrol(sexBg,'Style','radiobutton','String','Female',...
                'Units','normalized',...
                'Position',[.1 .2 .8 .2]);

%% language
    posTextY = posTextY - itemsDistance - sizeWindow(2);
    langBg = uibuttongroup(f,'Title','Language',...
            'Position',[.65 .25 ...
            buttonWindow(1)/widthGUI buttonWindow(2)/heightGUI]);
    posBoxY = posBoxY - itemsDistance - sizeWindow(2);
    rbDutch = uicontrol(langBg,'Style','radiobutton','String','Dutch',...
                'Units','normalized',...
                'Position',[.1 .6 .8 .2]);
    rbEnglish = uicontrol(langBg,'Style','radiobutton','String','English',...
                'Units','normalized',...
                'Position',[.1 .2 .8 .2]);

%% continue
    continueButton = uicontrol(f,'Style','pushbutton',...
                'String','CONTINUE',...
                'Value',0,...
                'Position', [(widthGUI-itemsDistance-sizeWindow(1))...
                    itemsDistance, sizeWindow], ...
                 'Callback',{@updateParticipant}   );
    
    f.Visible = 'on';
    
    uiwait
    
    function updateParticipant(~, ~)
        participant.name = subTxtBox.String;
        participant.age = str2num(ageTxtBox.String);
        participant.sex = 'f';
        if rbMale.Value == 1
            participant.language = 'm';
        end
        participant.language = 'Dutch'; % English or Dutch
        if rbEnglish.Value == 1
            participant.language = 'English';
        end
        participant.kidsOrAdults = 'Kid'; % we leave empty for kids because I am not sure whether we'd fuck up some file names/if statements
        if participant.age > 18
            participant.kidsOrAdults = 'Adult';
        end
        uiresume
    end
    %
%     close this figure
    close(gcf)
end